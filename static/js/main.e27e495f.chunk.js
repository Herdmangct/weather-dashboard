(this["webpackJsonpweather-dashboard"]=this["webpackJsonpweather-dashboard"]||[]).push([[0],{44:function(e,t,a){e.exports=a(86)},49:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(35),c=a.n(o),i=(a(49),a(13)),s=a(16),u=a(19),l=a(18),h=a(20),p=a(40),d=a(10),m=a(11),f=a.n(m),y=a(15),g=a(17),w=a(36),b=a.n(w),v=a(37),x=a(12),E=a(7),D=a(39),O=a(22),j=a.n(O),C=function e(t,a){Object(i.a)(this,e),this.temperature=t,this.weatherConditions=a},k="c6962698473bb5316ec1ea448ce1e814",I=function(){var e=Object(y.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("https://api.openweathermap.org/data/2.5/weather?q=".concat(t,"&units=metric&appid=").concat(k)).then((function(e){var t=e.data;return{todaysTemperature:t.main.temp.toFixed(0),todaysWeatherConditionID:t.weather[0].id}}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(y.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("https://api.openweathermap.org/data/2.5/forecast?q=".concat(t,"&units=metric&appid=").concat(k)).then((function(e){var t=e.data.list,a={};t.forEach((function(e){var t=new Date(1e3*e.dt).getDate();a.hasOwnProperty(t)?a[t].temperature.push(e.main.temp):a[t]=new C([e.main.temp],e.weather[0].id)}));for(var r=0,n=Object.keys(a);r<n.length;r++){var o=n[r],c=a[o].temperature;if(c!==[]){var i=c.reduce((function(e,t){return e+t}));a[o].temperature=(i/c.length).toFixed(0)}}return a}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W={days:{1:"Monday",2:"Tuesday",3:"Wednesday",4:"Thursday",5:"Friday",6:"Saturday",0:"Sunday"},getDay:function(e){return this.days[e]}},T={months:{0:"January",1:"February",2:"March",3:"April",4:"May",5:"June",6:"July",7:"August",8:"September",9:"October",10:"November",11:"December"},getMonth:function(e){return this.months[e]}},F=function(e,t){var a=t-e.getDate(),r=(e.getDay()+a)%7;return W.getDay(r)};function P(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function M(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?P(a,!0).forEach((function(t){Object(v.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):P(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var B={headerContent:{flex:6,color:"white",backgroundImage:"url(https://i.pinimg.com/originals/07/c3/4e/07c34e6089463bae34075960643cb9e9.jpg)",backgroundSize:"100% 100%",backgroundRepeat:"no-repeat",paddingTop:"40px",paddingLeft:"40px"},weatherIcon:{fontSize:"105px"},degreesContainer:{display:"flex",justifyContent:"flex-start"},degrees:{fontSize:"90px"},date:{marginTop:"15px"}},J=function(e){var t=e.currentTemperature,a=e.currentWeatherID,r=e.currentDate;return a&&a?n.a.createElement("div",{style:B.headerContent},n.a.createElement(x.a,null,n.a.createElement(E.a,{md:{span:2}},n.a.createElement("i",{className:"wi wi-owm-".concat(a),style:B.weatherIcon})),n.a.createElement(E.a,{md:{span:3},style:B.degreesContainer},n.a.createElement("h1",{style:B.degrees},t,"\xb0")),n.a.createElement(E.a,{md:{span:6}})),n.a.createElement(x.a,null,n.a.createElement(E.a,{style:B.date},n.a.createElement("h1",null,W.getDay(r.getDay()),","," ",T.getMonth(r.getMonth())," ",r.getDate())))):n.a.createElement("div",{style:M({},B.headerContent,{display:"flex",justifyContent:"center"})},n.a.createElement(D.a,{animation:"border",role:"status",color:"white"},n.a.createElement("span",{className:"sr-only"},"Loading...")))},z={cardInfo:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",padding:"25px"},weatherIcon:{fontSize:"90px",color:"#f58520"},day:{marginTop:"10px",color:"#F6B27E"},degrees:{color:"#f58520"}},L=function(e){var t=e.day,a=e.temperature,r=e.weatherConditionsID;return n.a.createElement(E.a,null,n.a.createElement("div",{style:z.cardInfo},n.a.createElement("i",{className:"wi wi-owm-".concat(r),style:z.weatherIcon}),n.a.createElement("h3",{style:z.day},t),n.a.createElement("h4",{style:z.degrees}," ",a,"\xb0")))},N={divider:{width:"2px",borderLeft:"1px solid ",borderLeftColor:"#c9c9c9",marginBottom:"40px",marginTop:"40px",boxShadow:"0 0 1px 0 white inset, 0 0 1px 0 white"}},A=function(){return n.a.createElement("div",{style:N.divider})},q={informationBar:{textAlign:"center",flex:3,backgroundColor:"white"},contentContainer:{margin:0,height:"100%"}},R=function(e){var t=e.forecastInformation,a=e.currentDate,r=Object.keys(t).filter((function(e){return e>a.getDate()&&e<=a.getDate()+4}));return n.a.createElement("div",{style:q.informationBar},n.a.createElement(x.a,{style:q.contentContainer},r.map((function(e,r){return n.a.createElement(n.a.Fragment,{key:r},n.a.createElement(L,{day:0===r?"Tomorrow":F(a,e),temperature:t[e].temperature,weatherConditionsID:t[e].weatherConditions}),r<3?n.a.createElement(A,null):"")}))))},$=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(l.a)(t).call(this))).state={city:"Sydney",today:{},forecast:{},currentDate:new Date},e.fetchWeatherForecast=e.fetchWeatherForecast.bind(Object(g.a)(e)),e}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=b.a.parse(this.props.history.location.search).city,t=e||this.state.city;this.props.history.replace(""),this.props.history.push("weather-dashboard/?city=".concat(t)),this.fetchWeatherForecast(t)}},{key:"fetchWeatherForecast",value:function(){var e=Object(y.a)(f.a.mark((function e(){var t,a=this,r=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=r.length>0&&void 0!==r[0]?r[0]:this.state.city,this.setState({currentDate:new Date}),I(t).then((function(e){var t=e.todaysTemperature,r=e.todaysWeatherConditionID;a.setState({today:new C(t,r)})})).catch((function(e){alert("Error: Invalid city entered in the url \nPlease enter a valid city, \nredirecting to Sydney weather"),a.props.history.push("?city=Sydney"),a.fetchWeatherForecast("Sydney")})),S(t).then((function(e){a.setState({forecast:e})}));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return n.a.createElement("div",{style:G.weatherWidgetContainer},n.a.createElement(J,{currentTemperature:this.state.today.temperature,currentWeatherID:this.state.today.weatherConditions,currentDate:this.state.currentDate}),n.a.createElement(R,{forecastInformation:this.state.forecast,currentDate:this.state.currentDate}))}}]),t}(r.Component),G={weatherWidgetContainer:{height:"100%",width:"100%",display:"flex",flexDirection:"column",marginTop:"10px",boxShadow:"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)",borderRadius:"10px",overflow:"hidden"}},H=$,K=a(43),Q=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return n.a.createElement(p.a,null,n.a.createElement(K.a,null,n.a.createElement(x.a,null,n.a.createElement(E.a,{md:{span:10,offset:1},style:U.appContainer},n.a.createElement(d.a,{path:"/",component:H})))))}}]),t}(r.Component),U={appContainer:{height:"700px"}},V=Q;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(84),a(85);c.a.render(n.a.createElement(V,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[44,1,2]]]);
//# sourceMappingURL=main.e27e495f.chunk.js.map